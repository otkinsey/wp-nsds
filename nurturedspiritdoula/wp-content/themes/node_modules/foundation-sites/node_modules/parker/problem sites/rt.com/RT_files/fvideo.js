/*PLAYER*/
var Flash={
    create:function(p) {
        return swfobject.embedSWF(p.flash, p.container, p.width, p.height, "9.0.0","/st/swf/expressInstall.swf", false, p.params, p.attributes);
    }
};
function FVideo(params) {
    this.params = params;

    var self=this;
    this.embed=function() {
        if (self.params.video && swfobject.hasFlashPlayerVersion("8.0.0")) {
            var fv=new Array();
            var flashvars = {
                skin: (typeof self.params.skin === 'undefined') ? "/st/swf/jwplayer/skin.zip":self.params.skin,
                abouttext: "RT",
                aboutlink: "/about-us/corporate-profile/",
                stretching: 'uniform',
                'controlbar.position': (typeof self.params.controlbar === 'undefined') ? 'over':self.params.controlbar,
                file: self.params.video,
                image: self.params.image
            };
            if (typeof self.params.provider === 'undefined') {
                flashvars['provider'] = 'http';
            }

            if (self.params.cdn) {
                flashvars['http.startparam'] = 'ec_seek';
            }

            for (var i in flashvars) fv.push(i+"="+flashvars[i]);
            var params = {
                menu: "false",
                wmode: 'transparent',
                flashvars: fv.join("&")
            };
            var attributes = {
                id: self.params.container,
                allowscriptaccess: "always",
                allowfullscreen: self.params.allowfullscreen||"true",
                quality:"high"
            };
            $('#'+self.params.container).html('');
            Flash.create({
                flash:"/st/swf/player5.4.swf",
                container:self.params.container,
                width:self.params.width,
                height:self.params.height,
                params:params,
                attributes:attributes
            });
        } else {
            if (self.params.image) {
                var obj=$("#"+self.params.container)[0];
                var img=new Image();
                img.src=self.params.image;
                img.id=self.params.container;
                img.width=self.params.width;
                img.height=self.params.height;
                img.alt = self.params.alt;
                img.style.visibility="visible";
                obj.parentNode.replaceChild(img, obj);
                if (img.alt != '') {
                    addImgCaption(img);
                }
            }
        }
    };

    this.reload=function(p){
        for (var i in p) {
            self.params[i]=p[i];
        }
        self.embed();
    };

    this.remove=function() {
    };

    this.embed();
};