/*Match stats*/
window.onload = function rp()
		{
			if(document.getElementById('opta-widget-idx-0') != "null" && document.getElementById('opta-widget-idx-0') != null){   	
			var element = document.getElementById('opta-widget-idx-0'); //opta-widget-idx-0
			var elements = element.getElementsByTagName('*');
  			for (var i = 0; i < elements.length; i++)
		  	{
			if (elements[i].className=='matchup')
					{
         			elements[i].innerHTML=elements[i].innerHTML.replace('v.', 'v');
    				}
	   		}
    	}		
		}
//Squad				
function doSomething(id) {
	var dtarr = document.getElementsByTagName("dd");
	for (i = 0; i < dtarr.length; i++) {
   		if (id==i) {dtarr[i].style.display='block';} else {dtarr[i].style.display='none';}
	}
}

var SomethingToChange = function(widget, params, id){
			// Function to replace team compare tabs with select menu
				var tabs = widget.find('.comparison .tabs-container .tabs-nav'), i, h = '';
				h += '<select id="teamcompareDD" class="teamcompareDD">';
				$jqOpta(tabs).find('li > a').each(function(){
					var element = $jqOpta(this),
					tabid = element.attr('href').split('#');
					h += '<option value="'+tabid[1]+'">'+element.text()+'</option>';
				});
				h += '</select>';
				tabs.replaceWith(h);
 
			// Function to replace player compare tabs with select menu
				var tabs = widget.find('.stats .tabs-container .tabs-nav'),	i, h = '';
				h += '<select id="playerstatsDD" class="playerstatsDD">';
				$jqOpta(tabs).find('li > a').each(function(){
					var element = $jqOpta(this),
					tabid = element.attr('href').split('#');
					h += '<option value="'+tabid[1]+'">'+element.text()+'</option>';
				});
				h += '</select>';
				tabs.replaceWith(h);

                // replace select menu with tabs; setTimeout is a hack - element is not found without it :(
                setTimeout(function() {
                    $jqOpta(".opta-widget-container .tabs-active .opta-dropdown").removeClass("opta-dropdown");
                }, 1);

                $jqOpta(".opta-standings .standings-container .tabs-container .tabs-nav li a").each(function(){
                    var $tabName = $(this).text();
                    var $shortTabName = $tabName.replace('Group ','');
                    $(this).text($shortTabName);
                });

                // unable to override .tabs-flat css
                $jqOpta(".standings-container .tabs-flat").removeClass("tabs-flat");
				};
                var _optaCallbacks;
                if (_optaParams) {
                    _optaCallbacks = _optaParams.callbacks;
                }
                if (_optaCallbacks) {
                    if( _optaCallbacks.indexOf(SomethingToChange) < 0) {
                    _optaCallbacks.push(SomethingToChange);
                    }
                } else {
                    _optaCallbacks = [SomethingToChange];
                }
			// Standard Opta Params
				var _optaParams = {
                    custID: 'ea84a6c1e3333c9d011be831766d51de',
                    anim:   'none',
                    language: 'en_GB',
                    timezone: 0,
					callbacks: _optaCallbacks
				};

			if(optaTeamLinkingCallback) {
				var _optaCallbacks = _optaParams.callbacks;

				if (_optaCallbacks) {
					if (_optaCallbacks.indexOf(optaTeamLinkingCallback) < 0) {
						_optaCallbacks.push(optaTeamLinkingCallback);
					}
				} else {
					_optaCallbacks = [optaTeamLinkingCallback];
				}

				_optaParams.callbacks = _optaCallbacks;
			}

			// Listen for team compare dropdown menu changes
				$jqOpta('#teamcompareDD').on('change', function(){
					var dd = $jqOpta(this), contents = $jqOpta(dd.next()[0]);
						// Remove selected tab
					contents.find('li.tabs-selected').removeClass('tabs-selected');
						// Select selected tab
					$jqOpta('#'+dd.val()).parent().addClass('tabs-selected');
				});
			// Listen for player compare dropdown menu changes
				$jqOpta('#playerstatsDD').on('change', function(){
					var dd = $jqOpta(this), contents = $jqOpta(dd.next()[0]);
						// Remove selected tab
					contents.find('li.tabs-selected').removeClass('tabs-selected');
						// Select selected tab
					$jqOpta('#'+dd.val()).parent().addClass('tabs-selected');
				});